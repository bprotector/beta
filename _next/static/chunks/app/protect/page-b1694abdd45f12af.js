(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138],{1212:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var r=o(5155),n=o(2115),i=o(1392),a=o(3570),s=o(558),l=o(5695),c=o(1673),d=o(4618),p=o(3533),m=o(1934),g=o(5799),u=o(8384),h=o(9229),f=o(9777),y=o(4134).Buffer;function b(e){if(!e.publicKey||!e.signTransaction||!e.signAllTransactions)throw Error("Wallet not connected or missing required methods");return{publicKey:e.publicKey,signTransaction:e.signTransaction,signAllTransactions:e.signAllTransactions}}let x=new a.PublicKey("DTh9fWEHJiktBGdZEHsMsohdmFPaCyFCL1eoTt443zWe"),w=new a.Connection("https://api.devnet.solana.com","confirmed");function v(){let{publicKey:e,signTransaction:t,signAllTransactions:o,sendTransaction:a,connected:v}=(0,i.v)(),j=(0,l.useRouter)(),[k,C]=(0,n.useState)(null),[S,z]=(0,n.useState)(null),[E,B]=(0,n.useState)(""),[R,A]=(0,n.useState)(""),[L,P]=(0,n.useState)(""),[U,F]=(0,n.useState)(""),[T,W]=(0,n.useState)(""),[D,H]=(0,n.useState)(null),[I,N]=(0,n.useState)(!0),[K,M]=(0,n.useState)(!1),[_,O]=(0,n.useState)(null),[G,q]=(0,n.useState)(null),[Y,Z]=(0,n.useState)([]),[Q,V]=(0,n.useState)(!1),J=e=>{Z(t=>[...t,"".concat(new Date().toISOString(),": ").concat(e)].slice(-50))};(0,n.useEffect)(()=>{if(!v||!e||!t||!o||!a){N(!0),M(!1),j.push("/"),J("Wallet not connected, redirecting to home");return}let r=!0;return(async()=>{try{J("Initializing wallet connection...");let n=b({publicKey:e,signTransaction:t,signAllTransactions:o}),i=new s.NQ(w,n,{commitment:"confirmed"}),a=new s.BP(c,x,i);J("Fetching contract owner...");let l=await (0,h.eE)(a);r&&(M(e.equals(l)),J("Contract owner check: ".concat(e.equals(l)?"User is owner":"User is not owner"))),J("Fetching program state...");let d=await (0,h.GT)(a);r&&(d?(O(d),J("Program state fetched successfully")):J("Program state not found, setting to null")),J("Fetching user trials...");let p=await (0,h.bt)(a,e);r&&(p?(q({...p,user:e}),J("User trials fetched: ".concat(p.trialCount," trials"))):(q({user:e,trialCount:0,bump:0}),J("New user: No trials account exists, initialized with 0 trials")))}catch(e){if(r){let t="Initialization failed: ".concat(e.message||"Unknown error");g.oR.error(t),F(t),J(t)}}finally{r&&(N(!1),J("Wallet initialization complete"))}})(),()=>{r=!1}},[v,e,t,o,a,j]);let $=/^[a-zA-Z0-9_-][a-zA-Z0-9 _-]*$/,X=["txt","pdf","jpg","jpeg","png","mp4","mp3","rtf","doc","docx","zip","tar","rar","exe","gz","7z","bz2","iso","apk","jar"],ee=e=>({txt:"text/plain",pdf:"application/pdf",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",mp4:"video/mp4",mp3:"audio/mpeg",rtf:"application/rtf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",zip:"application/zip",tar:"application/x-tar",rar:"application/x-rar-compressed",exe:"application/x-msdownload",gz:"application/gzip","7z":"application/x-7z-compressed",bz2:"application/x-bzip2",iso:"application/x-iso9660-image",apk:"application/vnd.android.package-archive",jar:"application/java-archive"})[e.toLowerCase()]||"application/octet-stream",et=async r=>{var n;if(r.preventDefault(),F(""),W(""),J("Form submitted, starting protection process"),!v||!e||!t||!o||!a){g.oR.error("Please connect your wallet"),F("Please connect your wallet"),J("Wallet not connected, aborting");return}if(!k||!S||!E||!R||!L){g.oR.error("All fields are required"),F("All fields are required"),J("Missing required fields");return}if(E.length>100){g.oR.error("Hidden block name must be 100 characters or less"),F("Hidden block name must be 100 characters or less"),J("Hidden block name too long");return}if(!$.test(E)){g.oR.error("Hidden block name can only contain letters, numbers, underscores, hyphens, and spaces"),F("Hidden block name can only contain letters, numbers, underscores, hyphens, and spaces"),J("Invalid hidden block name format");return}if(R.length>256||L.length>256){g.oR.error("Passwords must be 256 characters or less"),F("Passwords must be 256 characters or less"),J("Password length exceeds maximum");return}let i=(null==(n=S.name.split(".").pop())?void 0:n.toLowerCase())||"";if(!X.includes(i)){g.oR.error("Unsupported hostage file type: .".concat(i,". Supported types: ").concat(X.join(", "))),F("Unsupported hostage file type: .".concat(i,". Supported types: ").concat(X.join(", "))),J("Unsupported hostage file type: .".concat(i));return}try{let r,n=b({publicKey:e,signTransaction:t,signAllTransactions:o}),l=new s.NQ(w,n,{commitment:"confirmed"}),d=new s.BP(c,x,l);J("Reading hostage file: ".concat(S.name));let p=await (0,f.ml)(S);J("Hostage file read: ".concat(p.byteLength," bytes")),J("Compressing hostage file...");let m=await (0,f.dg)(p);J("Hostage file compressed: ".concat(m.byteLength," bytes")),J("Buffer type: ".concat(Object.prototype.toString.call(m.buffer))),m.buffer instanceof ArrayBuffer?r=m.buffer:(r=new ArrayBuffer(m.byteLength),new Uint8Array(r).set(m)),J("Input buffer type: ".concat(Object.prototype.toString.call(r))),J("Encrypting compressed data...");let{encryptedData:v,nonce:j,key1:C}=await (0,u.o)(r,R,L);if(J("Encryption completed: key1=".concat(C,", nonce=").concat(y.from(j).toString("hex"),", nonce_length=").concat(j.length,", encrypted_data=").concat(v.byteLength," bytes")),12!==j.length)throw Error("Invalid nonce length: expected 12 bytes, got ".concat(j.length));if(C!==y.from(j).toString("hex"))throw Error("Key1 mismatch: key1=".concat(C,", nonce_hex=").concat(y.from(j).toString("hex")));J("Reading host file: ".concat(k.name));let z=await (0,f.ml)(k);J("Host file read: ".concat(z.byteLength," bytes"));let B=z.byteLength,A=v.byteLength,P=y.from("".concat(B,":").concat(A,":").concat(i)).toString("base64");J("Generated key2: offset=".concat(B,", size=").concat(A,", extension=").concat(i,", encoded=").concat(P));let U=new Uint8Array(B+A+12);U.set(new Uint8Array(z),0),U.set(new Uint8Array(v),B),U.set(j,B+A),J("Combined data: total_length=".concat(U.length,", host=").concat(B,", encrypted=").concat(A,", nonce=12, nonce_position=").concat(B+A)),J("Storing keys on Solana...");let F=await (0,h.G5)(d,w,e,E,C,P,a);J("Keys stored, transaction signature: ".concat(F)),J("Updating user trials...");let T=await (0,h.bt)(d,e);T?q({...T,user:e}):q({user:e,trialCount:0,bump:0}),J("User trials updated: ".concat((null==T?void 0:T.trialCount)||1," trials"));let D=k.name.split(".").pop()||"",I="".concat(E).concat(D?"."+D:""),N=ee(D),K=new Blob([U],{type:N}),M=window.URL.createObjectURL(K),_=document.createElement("a");_.href=M,_.download=I,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(M),J("File downloaded: ".concat(I)),H({user:e,fileName:E,transaction:F}),g.oR.success("File protected successfully!"),W("File protected as ".concat(I,". Save this Hidden Block Name (").concat(E,") to recover your files!")),J("Protection process completed successfully")}catch(t){let e="Protection failed: ".concat(t.message||"Unknown error");t.message.includes("6000")?e="Unauthorized access or invalid signer.":t.message.includes("6001")?e="Invalid file name provided.":t.message.includes("6002")?e="Invalid key length provided.":t.message.includes("6003")?e="Fee amount cannot be zero.":t.message.includes("6004")?e="Fee amount is too large.":t.message.includes("6005")?e="Maximum trial count cannot be zero.":t.message.includes("6006")?e="Maximum trial count is too large.":t.message.includes("Insufficient SOL")?e="Insufficient SOL for transaction fees.":t.message.includes("Invalid nonce length")?e="Encryption error: Invalid nonce length.":t.message.includes("Key1 mismatch")&&(e="Encryption error: Nonce key mismatch."),g.oR.error(e),F(e),J("Error: ".concat(e)),console.error("Protection error:",t)}};return _&&G&&(_.maxTrials,G.trialCount),(0,r.jsx)("div",{style:{minHeight:"100vh",padding:"3rem 0",background:"linear-gradient(to bottom, #111827, #000000)",color:"#d1d5db"},children:(0,r.jsxs)("div",{style:{maxWidth:"48rem",margin:"0 auto",padding:"0 1rem"},children:[(0,r.jsx)("div",{style:{marginBottom:"3rem"},children:(0,r.jsx)(d.A,{activeMode:"protect",isContractOwner:K})}),(0,r.jsx)("section",{style:{marginBottom:"3rem",textAlign:"center"},children:(0,r.jsxs)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,r.jsx)("h2",{style:{fontSize:"2.25rem",fontWeight:"700",color:"#f97316",marginBottom:"1rem"},children:"Protect Your Files"}),(0,r.jsx)("p",{style:{fontSize:"1.125rem",color:"#9ca3af",maxWidth:"32rem",margin:"0 auto"},children:"Securely encrypt and store your files using Solana blockchain."}),!I&&v&&G&&_&&(0,r.jsxs)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},style:{background:"rgba(59, 130, 246, 0.5)",backdropFilter:"blur(10px)",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"1rem",color:"#93c5fd",textAlign:"center"},children:[(0,r.jsxs)("p",{style:{fontSize:"1rem",fontWeight:"500"},children:[(0,r.jsx)("strong",{children:"Remaining Trials:"})," ",G&&_?_.maxTrials-G.trialCount>=0?_.maxTrials-G.trialCount:0:"New user, trials pending"]}),(0,r.jsxs)("p",{style:{fontSize:"1rem",fontWeight:"500"},children:[(0,r.jsx)("strong",{children:"Fee After Trial:"})," ",_.feeAmount/1e9," SOL"]})]})]})}),(0,r.jsx)("section",{style:{maxWidth:"48rem",margin:"0 auto"},children:(0,r.jsxs)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",padding:"2rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,r.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#f97316",textAlign:"center"},children:"Protect File"}),U&&(0,r.jsx)(m.P.div,{initial:{opacity:0},animate:{opacity:1},style:{background:"rgba(239, 68, 68, 0.5)",color:"#f87171",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem"},children:U}),T&&(0,r.jsx)(m.P.div,{initial:{opacity:0},animate:{opacity:1},style:{background:"rgba(34, 197, 94, 0.5)",color:"#4ade80",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem"},children:T}),I&&(0,r.jsx)(m.P.div,{initial:{opacity:0},animate:{opacity:1},style:{background:"rgba(234, 179, 8, 0.5)",color:"#facc15",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem"},children:"Loading wallet connection..."}),!I&&!v&&(0,r.jsx)(m.P.div,{initial:{opacity:0},animate:{opacity:1},style:{background:"rgba(234, 179, 8, 0.5)",color:"#facc15",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem"},children:"Please connect your wallet to protect files."}),!I&&v&&e&&(0,r.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1},style:{background:"rgba(34, 197, 94, 0.5)",color:"#4ade80",padding:"1rem",borderRadius:"0.5rem",marginTop:"1rem"},children:["Wallet connected: ",e.toBase58().slice(0,4),"...",e.toBase58().slice(-4)]}),v&&(0,r.jsxs)("form",{onSubmit:et,style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#d1d5db",marginBottom:"0.5rem"},children:"Hidden Block Name (Mandatory)"}),(0,r.jsx)("input",{type:"text",placeholder:"Hidden Block Name",value:E,onChange:e=>B(e.target.value),style:{width:"100%",background:"rgba(31, 41, 55, 0.5)",color:"#d1d5db",border:"1px solid #4b5563",borderRadius:"0.5rem",padding:"0.5rem 0.75rem",outline:"none",transition:"all 0.2s"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#d1d5db",marginBottom:"0.5rem"},children:"Cover File"}),(0,r.jsx)("input",{type:"file",onChange:e=>C(e.target.files?e.target.files[0]:null),style:{width:"100%",color:"#d1d5db",background:"transparent"},className:"file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-orange-500 file:text-black hover:file:bg-orange-600"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#d1d5db",marginBottom:"0.5rem"},children:"Confidential File"}),(0,r.jsx)("input",{type:"file",accept:X.map(e=>".".concat(e)).join(","),onChange:e=>z(e.target.files?e.target.files[0]:null),style:{width:"100%",color:"#d1d5db",background:"transparent"},className:"file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-orange-500 file:text-black hover:file:bg-orange-600"})]}),(0,r.jsx)("div",{children:(0,r.jsx)(p.A,{label:"Password 1",value:R,onChange:A,disabled:I||!v})}),(0,r.jsx)("div",{children:(0,r.jsx)(p.A,{label:"Password 2",value:L,onChange:P,disabled:I||!v})}),(0,r.jsx)("div",{children:(0,r.jsx)(m.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:I||!v,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.5rem",fontWeight:"600",transition:"all 0.3s",background:I||!v?"#4b5563":"#f97316",color:"#ffffff",cursor:I||!v?"not-allowed":"pointer"},children:"Protect File"})}),D&&(0,r.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1},style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"1rem"},children:[(0,r.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#f97316"},children:"Protected File Event"}),(0,r.jsxs)("p",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:[(0,r.jsx)("strong",{children:"User:"})," ",(0,r.jsxs)("span",{style:{cursor:"pointer",color:"#f97316"},onClick:()=>{navigator.clipboard.writeText(D.user.toBase58()),g.oR.success("Copied to clipboard!")},children:[D.user.toBase58().slice(0,4),"...",D.user.toBase58().slice(-4)]})]}),(0,r.jsxs)("p",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:[(0,r.jsx)("strong",{children:"Hidden Block Name:"})," ",(0,r.jsx)("span",{style:{cursor:"pointer",color:"#f97316"},onClick:()=>{navigator.clipboard.writeText(D.fileName),g.oR.success("Copied to clipboard!")},children:D.fileName})]}),(0,r.jsxs)("p",{style:{fontSize:"0.875rem",color:"#d1d5db"},children:[(0,r.jsx)("strong",{children:"Transaction:"})," ",(0,r.jsxs)("span",{style:{cursor:"pointer",color:"#f97316"},onClick:()=>{navigator.clipboard.writeText(D.transaction),g.oR.success("Copied to clipboard!")},children:[D.transaction.slice(0,4),"...",D.transaction.slice(-4)]})]})]})]}),(0,r.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,r.jsx)(m.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>V(!Q),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.5rem",fontWeight:"600",transition:"all 0.3s",background:"#4b5563",color:"#ffffff",cursor:"pointer"},children:Q?"Hide Debug Console":"Show Debug Console"}),Q&&(0,r.jsxs)(m.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},style:{marginTop:"1rem",background:"rgba(17, 24, 39, 0.8)",padding:"1rem",borderRadius:"0.5rem",maxHeight:"24rem",overflowY:"auto"},children:[(0,r.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#d1d5db",marginBottom:"0.5rem"},children:"Debug Console"}),(0,r.jsx)("div",{style:{fontSize:"0.875rem",color:"#9ca3af"},children:0===Y.length?(0,r.jsx)("p",{children:"No logs available."}):Y.map((e,t)=>(0,r.jsx)("p",{style:{borderBottom:"1px solid #374151",padding:"0.5rem 0"},children:e},t))})]})]})]})})]})})}},3533:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});var r=o(5155),n=o(2115);function i(e){let{label:t,value:o,onChange:i,disabled:a}=e,[s,l]=(0,n.useState)(!1);return(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("label",{style:{display:"block",color:"rgb(209, 213, 219)",marginBottom:"8px",fontSize:"1rem"},children:t}),(0,r.jsx)("input",{type:s?"text":"password",value:o,onChange:e=>i(e.target.value),placeholder:"Enter ".concat(t.toLowerCase()),disabled:a,style:{width:"100%",padding:"12px 40px 12px 12px",color:"rgb(249, 115, 22)",borderRadius:"0.375rem",fontSize:"1rem",outline:"none",transition:"box-shadow 0.2s"}}),(0,r.jsx)("button",{type:"button","aria-label":s?"Hide password":"Show password",onClick:()=>{l(!s)},disabled:a,style:{position:"absolute",right:"10px",top:"70%",transform:"translateY(-50%)",background:"none",border:"none",color:a?"rgb(75, 85, 99)":"rgb(107, 114, 128)",cursor:a?"not-allowed":"pointer",outline:"none",transition:"color 0.2s"},children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px"},children:s?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]})}},5695:(e,t,o)=>{"use strict";var r=o(8999);o.o(r,"useRouter")&&o.d(t,{useRouter:function(){return r.useRouter}})},7765:(e,t,o)=>{Promise.resolve().then(o.bind(o,1212))},8384:(e,t,o)=>{"use strict";o.d(t,{I:()=>a,o:()=>i});var r=o(4134);async function n(e,t){console.log("[Encryption] Generating key",{password1Length:e.length,password2Length:t.length});try{let o=new TextEncoder,r=await crypto.subtle.importKey("raw",o.encode(e+t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);console.log("[Encryption] Key material imported");let n=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o.encode("bprotector-salt"),iterations:1e5,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);return console.log("[Encryption] Key derived successfully"),n}catch(e){throw console.error("[Encryption] Key generation failed:",e),Error("Key generation failed: ".concat(e.message||"Unknown error"))}}async function i(e,t,o){console.log("[Encryption] Starting encryption, data length:",e.byteLength);try{let i=await n(t,o),a=crypto.getRandomValues(new Uint8Array(12));console.log("[Encryption] Nonce generated:",{hex:r.Buffer.from(a).toString("hex"),base64:r.Buffer.from(a).toString("base64")});let s=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},i,e);console.log("[Encryption] Data encrypted, length:",s.byteLength);let l=r.Buffer.from(a).toString("hex");return console.log("[Encryption] Key1 generated:",{key1:l,length:l.length}),{encryptedData:s,nonce:a,key1:l}}catch(e){throw console.error("[Encryption] Encryption failed:",e),Error("Encryption failed: ".concat(e.message||"Unknown error"))}}async function a(e,t,o,i){console.log("[Encryption] Starting decryption",{encryptedDataLength:e.byteLength,nonceLength:t.length,nonceHex:r.Buffer.from(t).toString("hex")});try{let r=await n(o,i);console.log("[Encryption] Decryption key generated");let a=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},r,e);return console.log("[Encryption] Data decrypted, length:",a.byteLength),a}catch(e){throw console.error("[Encryption] Decryption failed:",e),Error("OperationError"===e.name?"Incorrect passwords provided":"Decryption failed: ".concat(e.message||"Unknown error"))}}},9777:(e,t,o)=>{"use strict";o.d(t,{CV:()=>i,dg:()=>n,ml:()=>a});var r=o(9959);async function n(e){if(console.log("[Compression] Starting compression, data length:",e.byteLength),0===e.byteLength)throw console.error("[Compression] Invalid input: Empty data buffer"),Error("Invalid input: Empty data buffer");try{let t=(0,r.Kc)(new Uint8Array(e),{level:6});return console.log("[Compression] Compression successful, length:",t.length),t}catch(e){throw console.error("[Compression] Compression failed:",e),Error("Compression failed: ".concat(e.message||"Unknown error"))}}async function i(e){if(console.log("[Compression] Starting decompression, compressedData length:",e.byteLength),0===e.byteLength)throw console.error("[Compression] Invalid input: Empty compressed data"),Error("Invalid input: Empty compressed data");try{let t=(0,r.UD)(new Uint8Array(e));if(console.log("[Compression] Decompression successful, length:",t.length),t.length>0x40000000)throw console.error("[Compression] Decompressed data size exceeds maximum limit:",t.length),Error("Decompressed data size (".concat((t.length/1048576).toFixed(2)," MB) exceeds maximum allowed size (").concat("1024.00"," MB)"));let o=new ArrayBuffer(t.length);return new Uint8Array(o).set(t),o}catch(e){throw console.error("[Compression] Decompression failed:",e),Error("Decompression failed: ".concat(e.message||"Unknown error"))}}async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0x1000000;if(console.log("[Compression] Reading file in chunks:",e.name,"size:",e.size),0===e.size)throw console.error("[Compression] Invalid input: Empty file",e.name),Error("Invalid input: Empty file");if(e.size>0x40000000)throw console.error("[Compression] File size exceeds maximum limit:",e.size),Error("File size (".concat((e.size/1048576).toFixed(2)," MB) exceeds maximum allowed size (").concat("1024.00"," MB)"));let o=new FileReader,r=0,n=[];return new Promise((i,a)=>{let s=()=>{let n=e.slice(r,r+t);console.log("[Compression] Reading chunk, offset:",r,"size:",n.size),o.readAsArrayBuffer(n)};o.onload=()=>{if(o.result instanceof ArrayBuffer)if(n.push(new Uint8Array(o.result)),console.log("[Compression] Chunk read, length:",o.result.byteLength),(r+=t)<e.size)s();else{let e=n.reduce((e,t)=>e+t.length,0);console.log("[Compression] All chunks read, total length:",e);let t=new Uint8Array(e),o=0;for(let e of n)t.set(e,o),o+=e.length;console.log("[Compression] File fully read, final length:",t.length),i(t.buffer)}},o.onerror=()=>{console.error("[Compression] File reading failed for:",e.name,"error:",o.error),a(Error("File reading failed for ".concat(e.name)))},s()})}}},e=>{var t=t=>e(e.s=t);e.O(0,[956,867,33,865,436,643,441,684,358],()=>t(7765)),_N_E=e.O()}]);